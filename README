Este proyecto es un backend en Node.js que expone varias rutas protegidas (auth, picking, cortes, productos negados) utilizando Express.
Utiliza Sequelize para la persistencia con PostgreSQL, y Swagger UI para documentar la API.
EstÃ¡ pensado para integrarse con un frontend tipo Streamlit, permitiendo autenticaciÃ³n JWT y operaciÃ³n de CRUD + cargas de archivo (Excel) en algunos endpoints.

ğŸ“‚ Estructura del proyecto
â”œâ”€ config/
â”‚   â””â”€ swagger.js           // ConfiguraciÃ³n de Swagger
â”œâ”€ controllers/
â”‚   â””â”€ authController.js
â”‚   â””â”€ pickingController.js
â”‚   â””â”€ corteController.js
â”‚   â””â”€ deniedProductController.js
â”œâ”€ middlewares/
â”‚   â””â”€ authMiddleware.js
â”œâ”€ models/
â”‚   â””â”€ index.js             // InicializaciÃ³n de Sequelize y modelos
â”‚   â””â”€ userModel.js
â”‚   â””â”€ pickingModel.js
â”‚   â””â”€ corteLogisticoModel.js
â”‚   â””â”€ deniedProductModel.js
â”œâ”€ routes/
â”‚   â””â”€ authRoutes.js
â”‚   â””â”€ pickingRoutes.js
â”‚   â””â”€ corteRoutes.js
â”‚   â””â”€ deniedProductRoutes.js
â”œâ”€ services/
â”‚   â””â”€ authService.js
â”‚   â””â”€ pickingService.js
â”‚   â””â”€ corteService.js
â”‚   â””â”€ deniedProductService.js
â”œâ”€ app.js                   // Punto de entrada del servidor
â”œâ”€ .env                     // Variables de entorno (no subir al repositorio)
â””â”€ package.json

ğŸ”§ TecnologÃ­as utilizadas

Node.js

Express

Sequelize (ORM)

PostgreSQL

JWT (jsonwebtoken) para autenticaciÃ³n

bcrypt para hash de contraseÃ±as

Swagger UI (swagger-jsdoc + swagger-ui-express) para documentaciÃ³n de API

Morgan para logging de peticiones

dotenv para manejo de configuraciones de entorno

ğŸš€ InstalaciÃ³n y ejecuciÃ³n

Clona el repositorio

git clone https://github.com/scubillosj/expressMultyproject.git
cd expressMultyproject


Instala dependencias

npm install


Configura variables de entorno
Crea un archivo .env con al menos:

DATABASE_URL=postgresql://user:password@host:port/db
JWT_SECRET=tuSecreto
JWT_REFRESH_SECRET=tuSecretoRefresh


Ejecuta el servidor

npm start


O para desarrollo con reinicio automÃ¡tico:

npm install --save-dev nodemon
npm run dev


Abre Swagger UI en el navegador

http://localhost:3000/api-docs

ğŸ” AutenticaciÃ³n

Los endpoints protegidos requieren un token JWT que se obtiene al hacer POST /auth/login.
El token debe enviarse en el header:

Authorization: Bearer <tu_token>

ğŸ“‹ Principales endpoints

POST /auth/register â€“ Crear un nuevo usuario

POST /auth/login â€“ Login y obtenciÃ³n de tokens

GET /api/picking â€“ Listado de pickings filtrables

POST /api/picking â€“ Crear nuevo registro de picking

POST /api/picking/upload â€“ Subir Excel de picking

GET /api/corte â€“ Listado de cortes

POST /api/corte â€“ Crear nuevo corte

GET /api/denied-product â€“ Listado de productos negados

â€¦ y otros: ver Swagger UI para todos

âš ï¸ Consideraciones

Al sincronizar los modelos con PostgreSQL, asegÃºrate que la tabla correspondiente tenga los campos esperados (atributos de modelo).

Por defecto sequelize.sync({ force: false }) estÃ¡ configurado para no eliminar datos existentes â€” ajusta segÃºn requieras.

Las rutas de carga de archivo (upload) requieren campos multipart/form-data. AsegÃºrate de que el cliente los envÃ­e correctamente.

AsegÃºrate que el cliente (por ejemplo Streamlit) utilice los headers correctos para autenticaciÃ³n.